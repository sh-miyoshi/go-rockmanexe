# TODO List

## ネット対戦未実装部分

- 敵側の攻撃でどうなるかチェック
- セッション管理
  - 30分でセッションを削除する(router側)
  - セッション強制終了時にClientにいい感じにSendする
- マッチングサーバー構築

## マッチングサーバー情報

- 残作業
  - User
    - new
      - inputの説明
      - キャンセルボタンの処理
      - ログイン後しか表示させない
    - show
      - 対戦方法の説明文
      - Session周り(後述)
    - destroy
      - ユーザー削除処理
      - redirect to top page
  - Session周り
    - new
      - inputの説明
      - 作成ボタン
        - Session#createを呼ぶ
    - create
      - Sessionの作成
      - routerにRequest
      - redirect_to user_show_path
      - エラー時はsession_new_pathで表示
    - destroy
      - user_showで呼べるようにする
      - Session削除
      - routerにRequest
      - redirect_to user_show_path
    - User#show
      - 自分のセッションを表示
        - 自分で作成した際は作成ボタンを非表示
      - 招待されたセッションを表示
      - セッション情報
        - 有効期限
        - セッション名
        - client_id
        - client_key
        - deleteボタン
- 未実装項目
  - プロフィールの閲覧
  - プロフィールの編集
- 流れ
  - ユーザーログイン
  - 対戦相手を見つける
  - セッションを貼る
    - 片方が呼ぶ
    - もう片方は応答する
  - セッション情報をconfigファイルに記述
  - client.exeを起動・対戦

- UserとSessionの関係
  - やりたいこと
    - userがセッションを作る
      - 参加者(1人)
        - 名前検索
        - ※誰でも
      - セッション名
      - (有効期限)
      - (client_id)
      - (client_key)
    - 参加者が参加したいセッション情報を取得
      - セッション名で検索
        - ※誰でもを表示するかのオプションが欲しい
    - client.exeを起動
  - SessionはUserに紐付く必要はなさそう
    - 自分のuidで検索できれば良い
    - Sessionに参加者リストを持っておく必要があるかな

## マイルストーン

### v0.3

- ネット対戦

### v0.4以降

- プログラムアドバンス(PA)
- ボス追加
  - アクアマン
- 麻痺状態
- ネット対戦の戦績
  - 対戦後の導線も含めて考える

## 機能一覧

- タイトル
  - はじめから
  - つづきから
- フィールド
  - 移動
  - 当たり判定
  - 敵出現
  - NPC
- バトル
  - 敵登場
  - チップ選択
  - ソウルユニゾン
  - PA
  - 戦闘開始
  - 戦闘
  - 結果
- メニュー
  - フォルダ編集
  - サブチップ(?)
  - データライブラリ
  - ロックマン
    - ナビカス
  - Eメール
  - キーアイテム
  - セーブ
- 通信対戦
- シナリオ
  - ゲームオーバー
  - エンディング

## 未実装項目

### 全体

- panic時のエラーの表示の仕方
- つづきから
- キー設定の変更と保存

### バトル時

- stateMain
  - その他
    - チップ情報を左下に表示
    - ダメージ情報にのけぞるかのフラグ
      - のけぞらない処理の追加
    - 敵名表示
- stateResult
  - win
    - バスティングレベル(判定式のアップデート)

### メニュー

- Chip Folder
  - Chip Folder ListのCodeのフォント
  - チップの説明文
- (Settings)

### フィールド

- すべて

### シナリオ関係

- すべて
